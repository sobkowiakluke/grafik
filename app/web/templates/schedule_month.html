<h2>Widok miesiÄ…ca</h2>

<style>
.day-off {
    background-color: #f8d7da;
    color: #721c24;
    font-weight: bold;
}

.day-work {
    background-color: #d4edda;
    color: #155724;
}
</style>

<table border="1" style="border-collapse:collapse; width:100%;">
    <tr>
        <th>Pracownik</th>

        {% for d in matrix["days"] %}
            <th>{{ d["day"] }}</th>
        {% endfor %}
    </tr>

    {% for emp in matrix["employees"] %}
    <tr>
        <td>
            {{ emp["first_name"] }} {{ emp["last_name"] }}
        </td>

        {% for d in matrix["days"] %}

            {% set day_data = emp["days"].get(d["day"]) %}

            <td style="text-align:center;"
                class="{% if not day_data %}day-off{% else %}day-work{% endif %}">

                {% if day_data %}
                    {{ day_data["staff_from"] }} - {{ day_data["store_close"] }}
                {% else %}
                    WOLNE
                {% endif %}
            </td>

        {% endfor %}
    </tr>
    {% endfor %}
</table>
